<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="600" fill="transparent"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#e0e0e0">
    Publisher and Consumer API
  </text>
  
  <!-- Publisher Section -->
  <g>
    <text x="225" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#68d391">
      Publisher API
    </text>
    
    <rect x="50" y="90" width="350" height="200" rx="8" fill="#2d3748" stroke="#68d391" stroke-width="2"/>
    <text x="225" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#68d391">BunnyFarm::Publisher</text>
    
    <!-- Publisher Methods -->
    <text x="70" y="140" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4299e1">Core Methods:</text>
    <text x="80" y="160" font-family="monospace" font-size="11" fill="#e0e0e0">publish(message, action)</text>
    <text x="80" y="175" font-family="monospace" font-size="11" fill="#e0e0e0">publish_at(message, action, time)</text>
    <text x="80" y="190" font-family="monospace" font-size="11" fill="#e0e0e0">publish_in(message, action, delay)</text>
    <text x="80" y="205" font-family="monospace" font-size="11" fill="#e0e0e0">schedule(message, action, cron)</text>
    
    <text x="70" y="230" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9f7aea">Configuration:</text>
    <text x="80" y="250" font-family="monospace" font-size="11" fill="#e0e0e0">configure(options)</text>
    <text x="80" y="265" font-family="monospace" font-size="11" fill="#e0e0e0">connection_settings</text>
    <text x="80" y="280" font-family="monospace" font-size="11" fill="#e0e0e0">exchange_settings</text>
  </g>
  
  <!-- Consumer Section -->
  <g>
    <text x="675" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f6e05e">
      Consumer API
    </text>
    
    <rect x="500" y="90" width="350" height="200" rx="8" fill="#2d3748" stroke="#f6e05e" stroke-width="2"/>
    <text x="675" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f6e05e">BunnyFarm::Consumer</text>
    
    <!-- Consumer Methods -->
    <text x="520" y="140" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4299e1">Core Methods:</text>
    <text x="530" y="160" font-family="monospace" font-size="11" fill="#e0e0e0">start</text>
    <text x="530" y="175" font-family="monospace" font-size="11" fill="#e0e0e0">stop</text>
    <text x="530" y="190" font-family="monospace" font-size="11" fill="#e0e0e0">process_message(msg, action)</text>
    <text x="530" y="205" font-family="monospace" font-size="11" fill="#e0e0e0">handle_error(error, msg)</text>
    
    <text x="520" y="230" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9f7aea">Queue Management:</text>
    <text x="530" y="250" font-family="monospace" font-size="11" fill="#e0e0e0">bind_queue(pattern)</text>
    <text x="530" y="265" font-family="monospace" font-size="11" fill="#e0e0e0">unbind_queue(pattern)</text>
    <text x="530" y="280" font-family="monospace" font-size="11" fill="#e0e0e0">purge_queue</text>
  </g>
  
  <!-- Usage Examples -->
  <g>
    <text x="450" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#e0e0e0">
      API Usage Examples
    </text>
    
    <!-- Publisher Example -->
    <rect x="50" y="360" width="380" height="140" rx="6" fill="#1a202c" stroke="#68d391" stroke-width="1"/>
    <text x="240" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#68d391">Publisher Usage</text>
    
    <text x="70" y="400" font-family="monospace" font-size="10" fill="#9ca3af"># Initialize publisher</text>
    <text x="70" y="415" font-family="monospace" font-size="10" fill="#e0e0e0">publisher = BunnyFarm::Publisher.new</text>
    <text x="70" y="435" font-family="monospace" font-size="10" fill="#9ca3af"># Create and publish message</text>
    <text x="70" y="450" font-family="monospace" font-size="10" fill="#e0e0e0">message = OrderMessage.new(order_id: 123)</text>
    <text x="70" y="465" font-family="monospace" font-size="10" fill="#e0e0e0">publisher.publish(message, 'process')</text>
    <text x="70" y="485" font-family="monospace" font-size="10" fill="#9ca3af"># Delayed publishing</text>
    <text x="70" y="500" font-family="monospace" font-size="10" fill="#e0e0e0">publisher.publish_in(message, 'remind', 1.hour)</text>
    
    <!-- Consumer Example -->
    <rect x="450" y="360" width="380" height="140" rx="6" fill="#1a202c" stroke="#f6e05e" stroke-width="1"/>
    <text x="640" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#f6e05e">Consumer Usage</text>
    
    <text x="470" y="400" font-family="monospace" font-size="10" fill="#9ca3af"># Initialize consumer</text>
    <text x="470" y="415" font-family="monospace" font-size="10" fill="#e0e0e0">consumer = BunnyFarm::Consumer.new</text>
    <text x="470" y="435" font-family="monospace" font-size="10" fill="#9ca3af"># Bind to routing patterns</text>
    <text x="470" y="450" font-family="monospace" font-size="10" fill="#e0e0e0">consumer.bind_queue("OrderMessage.*")</text>
    <text x="470" y="465" font-family="monospace" font-size="10" fill="#e0e0e0">consumer.bind_queue("*.urgent")</text>
    <text x="470" y="485" font-family="monospace" font-size="10" fill="#9ca3af"># Start processing</text>
    <text x="470" y="500" font-family="monospace" font-size="10" fill="#e0e0e0">consumer.start</text>
  </g>
  
  <!-- Configuration Options -->
  <g>
    <text x="450" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#e0e0e0">
      Configuration Options
    </text>
    
    <!-- Publisher Config -->
    <rect x="50" y="560" width="180" height="35" rx="4" fill="#2d3748" stroke="#68d391" stroke-width="1"/>
    <text x="140" y="575" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#68d391">Publisher Config</text>
    <text x="60" y="590" font-family="monospace" font-size="9" fill="#e0e0e0">exchange, routing_key_prefix</text>
    
    <!-- Consumer Config -->
    <rect x="250" y="560" width="180" height="35" rx="4" fill="#2d3748" stroke="#f6e05e" stroke-width="1"/>
    <text x="340" y="575" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#f6e05e">Consumer Config</text>
    <text x="260" y="590" font-family="monospace" font-size="9" fill="#e0e0e0">queue_name, concurrency</text>
    
    <!-- Connection Config -->
    <rect x="450" y="560" width="180" height="35" rx="4" fill="#2d3748" stroke="#4299e1" stroke-width="1"/>
    <text x="540" y="575" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4299e1">Connection Config</text>
    <text x="460" y="590" font-family="monospace" font-size="9" fill="#e0e0e0">host, port, vhost, credentials</text>
    
    <!-- Error Handling Config -->
    <rect x="650" y="560" width="180" height="35" rx="4" fill="#2d3748" stroke="#e53e3e" stroke-width="1"/>
    <text x="740" y="575" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e53e3e">Error Config</text>
    <text x="660" y="590" font-family="monospace" font-size="9" fill="#e0e0e0">retry_attempts, dead_letter_queue</text>
  </g>
  
  <!-- Message Flow Arrow -->
  <defs>
    <marker id="arrow-flow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ff9800"/>
    </marker>
  </defs>
  
  <line x1="400" y1="190" x2="500" y2="190" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-flow)"/>
  <text x="450" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#ff9800">Messages</text>
</svg>