<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <rect width="1000" height="700" fill="transparent"/>
  
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#e0e0e0">
    BunnyFarm System Architecture Overview
  </text>
  
  <!-- Application Layer -->
  <g>
    <text x="500" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#68d391">
      Application Layer
    </text>
    
    <rect x="50" y="90" width="900" height="120" rx="8" fill="#2d3748" stroke="#68d391" stroke-width="2"/>
    
    <!-- Web Applications -->
    <rect x="80" y="120" width="150" height="60" rx="6" fill="#1a202c" stroke="#4299e1" stroke-width="1"/>
    <text x="155" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4299e1">Web Applications</text>
    <text x="90" y="165" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Rails, Sinatra, FastAPI</text>
    
    <!-- Background Jobs -->
    <rect x="250" y="120" width="150" height="60" rx="6" fill="#1a202c" stroke="#9f7aea" stroke-width="1"/>
    <text x="325" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9f7aea">Background Jobs</text>
    <text x="260" y="165" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Sidekiq, Resque, Cron</text>
    
    <!-- Microservices -->
    <rect x="420" y="120" width="150" height="60" rx="6" fill="#1a202c" stroke="#f6e05e" stroke-width="1"/>
    <text x="495" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f6e05e">Microservices</text>
    <text x="430" y="165" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Docker, Kubernetes</text>
    
    <!-- External APIs -->
    <rect x="590" y="120" width="150" height="60" rx="6" fill="#1a202c" stroke="#e53e3e" stroke-width="1"/>
    <text x="665" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e53e3e">External APIs</text>
    <text x="600" y="165" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Webhooks, REST APIs</text>
    
    <!-- Scheduled Tasks -->
    <rect x="760" y="120" width="150" height="60" rx="6" fill="#1a202c" stroke="#68d391" stroke-width="1"/>
    <text x="835" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#68d391">Scheduled Tasks</text>
    <text x="770" y="165" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Reports, Cleanup, ETL</text>
  </g>
  
  <!-- BunnyFarm Layer -->
  <g>
    <text x="500" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ff9800">
      BunnyFarm Messaging Layer
    </text>
    
    <rect x="50" y="280" width="900" height="140" rx="8" fill="#2d3748" stroke="#ff9800" stroke-width="3"/>
    
    <!-- Publishers -->
    <rect x="80" y="310" width="180" height="80" rx="6" fill="#1a202c" stroke="#4299e1" stroke-width="2"/>
    <text x="170" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#4299e1">Publishers</text>
    <text x="90" y="355" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Message creation</text>
    <text x="90" y="370" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Routing key generation</text>
    <text x="90" y="385" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Scheduling and delays</text>
    
    <!-- Message Definitions -->
    <rect x="280" y="310" width="180" height="80" rx="6" fill="#1a202c" stroke="#68d391" stroke-width="2"/>
    <text x="370" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#68d391">Message Classes</text>
    <text x="290" y="355" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Fields DSL</text>
    <text x="290" y="370" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Actions DSL</text>
    <text x="290" y="385" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Business logic</text>
    
    <!-- Configuration -->
    <rect x="480" y="310" width="180" height="80" rx="6" fill="#1a202c" stroke="#9f7aea" stroke-width="2"/>
    <text x="570" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#9f7aea">Configuration</text>
    <text x="490" y="355" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Connection settings</text>
    <text x="490" y="370" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Retry policies</text>
    <text x="490" y="385" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Error handling</text>
    
    <!-- Consumers -->
    <rect x="680" y="310" width="180" height="80" rx="6" fill="#1a202c" stroke="#f6e05e" stroke-width="2"/>
    <text x="770" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#f6e05e">Consumers</text>
    <text x="690" y="355" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Message processing</text>
    <text x="690" y="370" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Queue binding</text>
    <text x="690" y="385" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Acknowledgment</text>
  </g>
  
  <!-- RabbitMQ Layer -->
  <g>
    <text x="500" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2b6cb0">
      RabbitMQ Message Broker
    </text>
    
    <rect x="50" y="490" width="900" height="120" rx="8" fill="#1a365d" stroke="#2b6cb0" stroke-width="2"/>
    
    <!-- Topic Exchange -->
    <rect x="80" y="520" width="160" height="60" rx="6" fill="#2d3748" stroke="#4299e1" stroke-width="1"/>
    <text x="160" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4299e1">Topic Exchange</text>
    <text x="90" y="565" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Pattern-based routing</text>
    
    <!-- Queues -->
    <rect x="260" y="520" width="160" height="60" rx="6" fill="#2d3748" stroke="#68d391" stroke-width="1"/>
    <text x="340" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#68d391">Message Queues</text>
    <text x="270" y="565" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Durable, persistent</text>
    
    <!-- Dead Letter -->
    <rect x="440" y="520" width="160" height="60" rx="6" fill="#2d3748" stroke="#e53e3e" stroke-width="1"/>
    <text x="520" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e53e3e">Dead Letter Queue</text>
    <text x="450" y="565" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Failed message handling</text>
    
    <!-- Delayed Queue -->
    <rect x="620" y="520" width="160" height="60" rx="6" fill="#2d3748" stroke="#f6e05e" stroke-width="1"/>
    <text x="700" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f6e05e">Delayed Queue</text>
    <text x="630" y="565" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Scheduled messages</text>
    
    <!-- Management UI -->
    <rect x="800" y="520" width="120" height="60" rx="6" fill="#2d3748" stroke="#9f7aea" stroke-width="1"/>
    <text x="860" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9f7aea">Management UI</text>
    <text x="810" y="565" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Monitoring</text>
  </g>
  
  <!-- Infrastructure Layer -->
  <g>
    <text x="500" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#e0e0e0">
      Infrastructure Layer
    </text>
    
    <rect x="150" y="680" width="160" height="25" rx="4" fill="#1a202c" stroke="#68d391" stroke-width="1"/>
    <text x="230" y="697" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#68d391">Docker Containers</text>
    
    <rect x="330" y="680" width="160" height="25" rx="4" fill="#1a202c" stroke="#4299e1" stroke-width="1"/>
    <text x="410" y="697" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4299e1">Kubernetes Cluster</text>
    
    <rect x="510" y="680" width="160" height="25" rx="4" fill="#1a202c" stroke="#f6e05e" stroke-width="1"/>
    <text x="590" y="697" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#f6e05e">Load Balancer</text>
    
    <rect x="690" y="680" width="160" height="25" rx="4" fill="#1a202c" stroke="#9f7aea" stroke-width="1"/>
    <text x="770" y="697" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#9f7aea">Monitoring Stack</text>
  </g>
  
  <!-- Data Flow Arrows -->
  <defs>
    <marker id="arrow-arch" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ff9800"/>
    </marker>
  </defs>
  
  <!-- App to BunnyFarm -->
  <line x1="155" y1="210" x2="155" y2="280" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="325" y1="210" x2="325" y2="280" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="495" y1="210" x2="495" y2="280" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="665" y1="210" x2="665" y2="280" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="835" y1="210" x2="835" y2="280" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  
  <!-- BunnyFarm to RabbitMQ -->
  <line x1="170" y1="420" x2="170" y2="490" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="370" y1="420" x2="370" y2="490" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="570" y1="420" x2="570" y2="490" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  <line x1="770" y1="420" x2="770" y2="490" stroke="#ff9800" stroke-width="3" marker-end="url(#arrow-arch)"/>
  
  <!-- Bidirectional arrows for consumers -->
  <line x1="770" y1="280" x2="770" y2="210" stroke="#68d391" stroke-width="2" marker-end="url(#arrow-arch)"/>
</svg>