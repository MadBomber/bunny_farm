<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background transparent -->
  <rect width="900" height="600" fill="transparent"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#e0e0e0">
    BunnyFarm Architecture Overview
  </text>
  
  <!-- Ruby Application Layer -->
  <g>
    <rect x="50" y="80" width="800" height="120" rx="15" fill="#2d3748" stroke="#68d391" stroke-width="3"/>
    <text x="450" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#68d391">
      Ruby Application Layer
    </text>
    
    <!-- Producer Apps -->
    <rect x="80" y="130" width="140" height="50" rx="8" fill="#1a202c" stroke="#68d391" stroke-width="1"/>
    <text x="150" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#68d391">Web App</text>
    <text x="150" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Form Submissions</text>
    
    <rect x="240" y="130" width="140" height="50" rx="8" fill="#1a202c" stroke="#68d391" stroke-width="1"/>
    <text x="310" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#68d391">API Server</text>
    <text x="310" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">REST Endpoints</text>
    
    <rect x="400" y="130" width="140" height="50" rx="8" fill="#1a202c" stroke="#68d391" stroke-width="1"/>
    <text x="470" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#68d391">Scheduler</text>
    <text x="470" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Cron Jobs</text>
    
    <!-- Consumer Apps -->
    <rect x="560" y="130" width="140" height="50" rx="8" fill="#1a202c" stroke="#ed8936" stroke-width="1"/>
    <text x="630" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ed8936">Worker 1</text>
    <text x="630" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Background Jobs</text>
    
    <rect x="720" y="130" width="140" height="50" rx="8" fill="#1a202c" stroke="#ed8936" stroke-width="1"/>
    <text x="790" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ed8936">Worker 2</text>
    <text x="790" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e0e0e0">Microservice</text>
  </g>
  
  <!-- BunnyFarm Library Layer -->
  <g>
    <rect x="50" y="240" width="800" height="100" rx="15" fill="#2d3748" stroke="#9f7aea" stroke-width="3"/>
    <text x="450" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#9f7aea">
      BunnyFarm Library
    </text>
    
    <!-- Core Components -->
    <rect x="80" y="285" width="120" height="40" rx="5" fill="#9f7aea" stroke="#9f7aea" stroke-width="1"/>
    <text x="140" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1a202c">Message</text>
    <text x="140" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1a202c">Base Class</text>
    
    <rect x="220" y="285" width="120" height="40" rx="5" fill="#9f7aea" stroke="#9f7aea" stroke-width="1"/>
    <text x="280" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1a202c">Publisher</text>
    <text x="280" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1a202c">Send Messages</text>
    
    <rect x="360" y="285" width="120" height="40" rx="5" fill="#9f7aea" stroke="#9f7aea" stroke-width="1"/>
    <text x="420" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1a202c">Consumer</text>
    <text x="420" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1a202c">Receive and Process</text>
    
    <rect x="500" y="285" width="120" height="40" rx="5" fill="#9f7aea" stroke="#9f7aea" stroke-width="1"/>
    <text x="560" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1a202c">Config</text>
    <text x="560" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1a202c">Settings</text>
    
    <rect x="640" y="285" width="120" height="40" rx="5" fill="#9f7aea" stroke="#9f7aea" stroke-width="1"/>
    <text x="700" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1a202c">Router</text>
    <text x="700" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1a202c">Routing Keys</text>
  </g>
  
  <!-- RabbitMQ Layer -->
  <g>
    <rect x="50" y="380" width="800" height="120" rx="15" fill="#1a365d" stroke="#2b6cb0" stroke-width="3"/>
    <text x="450" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#90cdf4">
      RabbitMQ Message Broker
    </text>
    
    <!-- Exchange -->
    <rect x="120" y="430" width="140" height="50" rx="8" fill="#2b6cb0" stroke="#90cdf4" stroke-width="1"/>
    <text x="190" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e6fffa">Exchange</text>
    <text x="190" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Topic Router</text>
    
    <!-- Queues -->
    <rect x="300" y="430" width="100" height="50" rx="8" fill="#2b6cb0" stroke="#90cdf4" stroke-width="1"/>
    <text x="350" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e6fffa">Queue 1</text>
    <text x="350" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Orders</text>
    
    <rect x="420" y="430" width="100" height="50" rx="8" fill="#2b6cb0" stroke="#90cdf4" stroke-width="1"/>
    <text x="470" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e6fffa">Queue 2</text>
    <text x="470" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Tasks</text>
    
    <rect x="540" y="430" width="100" height="50" rx="8" fill="#2b6cb0" stroke="#90cdf4" stroke-width="1"/>
    <text x="590" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e6fffa">Queue 3</text>
    <text x="590" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Emails</text>
    
    <!-- Management -->
    <rect x="680" y="430" width="100" height="50" rx="8" fill="#2b6cb0" stroke="#90cdf4" stroke-width="1"/>
    <text x="730" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e6fffa">Management</text>
    <text x="730" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#bee3f8">Web UI</text>
  </g>
  
  <!-- Storage Layer -->
  <g>
    <rect x="50" y="540" width="800" height="50" rx="15" fill="#2d3748" stroke="#4a5568" stroke-width="2"/>
    <text x="450" y="560" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#cbd5e0">
      Persistence and External Services
    </text>
    
    <rect x="100" y="555" width="120" height="30" rx="5" fill="#4a5568"/>
    <text x="160" y="573" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e0e0e0">Database</text>
    
    <rect x="240" y="555" width="120" height="30" rx="5" fill="#4a5568"/>
    <text x="300" y="573" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e0e0e0">Email Service</text>
    
    <rect x="380" y="555" width="120" height="30" rx="5" fill="#4a5568"/>
    <text x="440" y="573" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e0e0e0">File Storage</text>
    
    <rect x="520" y="555" width="120" height="30" rx="5" fill="#4a5568"/>
    <text x="580" y="573" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e0e0e0">APIs</text>
    
    <rect x="660" y="555" width="120" height="30" rx="5" fill="#4a5568"/>
    <text x="720" y="573" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e0e0e0">Cache/Redis</text>
  </g>
  
  <!-- Flow Arrows -->
  <defs>
    <marker id="arrow-down" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#68d391"/>
    </marker>
    <marker id="arrow-up" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ed8936"/>
    </marker>
  </defs>
  
  <!-- Publishers to BunnyFarm -->
  <line x1="310" y1="200" x2="310" y2="240" stroke="#68d391" stroke-width="2" marker-end="url(#arrow-down)"/>
  <text x="320" y="220" font-family="Arial, sans-serif" font-size="10" fill="#68d391">publish</text>
  
  <!-- BunnyFarm to RabbitMQ -->
  <line x1="450" y1="340" x2="450" y2="380" stroke="#9f7aea" stroke-width="2" marker-end="url(#arrow-down)"/>
  <text x="460" y="360" font-family="Arial, sans-serif" font-size="10" fill="#9f7aea">AMQP</text>
  
  <!-- RabbitMQ to BunnyFarm (consumers) -->
  <line x1="650" y1="380" x2="650" y2="340" stroke="#ed8936" stroke-width="2" marker-end="url(#arrow-up)"/>
  <text x="660" y="360" font-family="Arial, sans-serif" font-size="10" fill="#ed8936">consume</text>
  
  <!-- BunnyFarm to Consumers -->
  <line x1="650" y1="240" x2="650" y2="200" stroke="#ed8936" stroke-width="2" marker-end="url(#arrow-up)"/>
  <text x="660" y="220" font-family="Arial, sans-serif" font-size="10" fill="#ed8936">execute</text>
  
  <!-- Workers to Storage -->
  <line x1="720" y1="500" x2="720" y2="540" stroke="#4a5568" stroke-width="2" marker-end="url(#arrow-down)"/>
  <text x="730" y="520" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af">store/fetch</text>
</svg>